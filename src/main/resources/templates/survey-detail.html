<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Survey</title>
    <link rel="stylesheet" th:href="@{/css/survey-detail.css}">
</head>
<body>
    <header class="header">
        <a th:href="@{/}" class="logo">SurveyBean</a>
    </header>

    <div class="survey-container">
        <h1 th:text="${survey.title}">Survey Title</h1>
        <p th:text="${survey.description}">Survey Description</p>

        <form id="surveyForm">
            <div th:each="question, iterStat : ${survey.questions}" class="question-block"
                 th:attr="data-question-id=${question.questionId}, data-question-type=${question.type}">
                <h5 th:text="${(iterStat.index + 1) + '. ' + question.text}">Question Text</h5>

                <div th:switch="${question.type.name()}">
                    <div th:case="'SINGLE_CHOICE'">
                        <div th:each="choice : ${question.choices}" class="form-check">
                            <input class="form-check-input" type="radio" th:name="'question-' + ${question.questionId}" th:value="${choice.choiceId}" required>
                            <label class="form-check-label" th:text="${choice.text}">Choice Text</label>
                        </div>
                    </div>
                    <div th:case="'MULTIPLE_CHOICE'">
                        <div th:each="choice : ${question.choices}" class="form-check">
                            <input class="form-check-input" type="checkbox" th:name="'question-' + ${question.questionId}" th:value="${choice.choiceId}">
                            <label class="form-check-label" th:text="${choice.text}">Choice Text</label>
                        </div>
                    </div>
                    <div th:case="'TEXT'">
                        <textarea class="form-control" rows="3"></textarea>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">답변 제출</button>
        </form>
        <div id="message" style="margin-top: 20px;"></div>
    </div>

    <script th:src="@{/js/survey-detail.js}"></script>
</body>
</html>