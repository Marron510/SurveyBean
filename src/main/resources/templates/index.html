<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SurveyBean</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <a th:href="@{/}" class="logo">SurveyBean</a>
        <nav class="nav">
            <a th:href="@{/logout}">로그아웃</a>
        </nav>
    </header>

    <main class="main-container">
        <div class="top-surveys-container">
            <h2>인기 설문 Top 3</h2>
            <div class="survey-list-container">
                <a th:each="survey : ${top3Surveys}" th:href="@{/surveys/{id}(id=${survey.surveyId})}" class="survey-card">
                    <h3 th:text="${survey.title}">Survey Title</h3>
                    <p th:text="${survey.description}">Survey Description</p>
                </a>
            </div>
        </div>
        <hr>

        <div class="survey-list-header">
            <h2>진행중인 설문조사</h2>
            <a th:href="@{/create-survey}" class="btn btn-primary">새 설문조사 만들기</a>
        </div>

        <div class="survey-list-container">
            <!-- If no surveys exist -->
            <div th:if="${surveys.isEmpty()}">
                <p>진행중인 설문조사가 없습니다. 첫 번째 설문조사를 만들어보세요!</p>
            </div>

            <!-- Loop through surveys -->
            <a th:each="survey : ${surveys}" th:href="@{/surveys/{id}(id=${survey.surveyId})}" class="survey-card">
                <div>
                    <h3 th:text="${survey.title}">Survey Title</h3>
                    <p th:text="${survey.description}">Survey Description</p>
                </div>
            </a>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 SurveyBean. All rights reserved.</p>
    </footer>
</body>
</html>